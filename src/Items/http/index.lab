(import CodeComponent from "../CodeComponent/index.lab")

(function (HttpTest props propsMethods)
  (let state (propsMethods.initState {someTxt:"原始文字"}))
  (propsMethods.afterMounted (lambda (x)
    (let aHttpRequest (new HttpRequest))
    (set aHttpRequest.method "get")
    (set aHttpRequest.url "https://example.com")
    (aHttpRequest.sendAsync (lambda (res ) 
       (set state.someTxt res.body)
       (propsMethods.update)
      )
    )
    )
  )
  <div>{state.someTxt}</div>
)

(export {
  HttpTest:HttpTest
})